

<div [formGroup]="formgroup">

    <div [ngSwitch]="formEntry.type">
        <!--
        <input *ngSwitchCase="'selectbox'" [formControlName]="formEntry.key"
               [id]="formEntry.key" [type]="formEntry.type">
        <select [id]="formEntry.key" *ngSwitchCase="'dropdown'" [formControlName]="formEntry.key">
            <option *ngFor="let opt of formEntry.options" [value]="opt.key">{{opt.value}}</option>
        </select>
        -->

        <div  *ngSwitchCase="'text'">
            <div class="form-group" [ngClass]="{ 'formFrame_invalid' : formgroup.controls[formEntry.key].invalid ,
                                                    'formFrame_valid' : formgroup.controls[formEntry.key].valid,
                                                    'formFrame_optional' : !formgroup.controls[formEntry.key].invalid &&  formEntry.required == false}">
                <label class="lbl-form_main" [attr.for]="formEntry.key" >{{formEntry.title}}</label>
                <br />
                <label class="secParagraph" *ngFor="let text of formEntry.secParagraphArray" > {{text}}
                </label>

                <input
                       type={{formEntry.type}}
                       class="form-control"
                       [id]="formEntry.key"
                       formControlName={{formEntry.key}}
                />
                <div class="invalidInfo" *ngIf="!formgroup.controls[formEntry.key].valid">
                    {{entryErrorString()}}
                </div>

            </div>
        </div>

        <div *ngSwitchCase="'textarea'">
            <div class="form-group" [ngClass]="{ 'formFrame_invalid' : formgroup.controls[formEntry.key].invalid ,
                                                    'formFrame_valid' : formgroup.controls[formEntry.key].valid,
                                                    'formFrame_optional' : !formgroup.controls[formEntry.key].invalid &&  formEntry.required == false}">
                <label class="lbl-form_main" [attr.for]="formEntry.key" >{{formEntry.title}}</label>
                <br />
                <label class="secParagraph" *ngFor="let text of formEntry.secParagraphArray" > {{text}}
                </label>

                <textarea
                        rows="2"
                       class="form-control"
                       [id]="formEntry.key"
                       formControlName={{formEntry.key}}
                        >
                </textarea>
                <div class="invalidInfo" *ngIf="!formgroup.controls[formEntry.key].valid">
                    {{entryErrorString()}}
                </div>
            </div>
        </div>


        <div  *ngSwitchCase="'date'">
            <div class="form-group" [ngClass]="{    'formFrame_invalid' : formgroup.controls[formEntry.key].invalid ,
                                                    'formFrame_valid' : formgroup.controls[formEntry.key].valid,
                                                    'formFrame_optional' : !formgroup.controls[formEntry.key].invalid && formEntry.required == false}"
                id="ngPrimeCalender">
                <label class="lbl-form_main" [attr.for]="formEntry.key" >{{formEntry.title}}</label>
                <br />
                <label class="secParagraph" *ngFor="let text of formEntry.secParagraphArray" > {{text}}
                </label>
                <div >
                    <p-calendar
                            [id]="formEntry.key"
                            formControlName={{formEntry.key}}
                            [dateFormat]= "formEntry.options.dateFormat"
                            [dataType]= "formEntry.options.dataType "
                            [yearRange]= "formEntry.options.yearRange"
                            [minDate]="minDate"
                            [maxDate]="maxDate"
                            [placeholder]= "formEntry.options.placeholder"
                            [monthNavigator]="true"
                            [yearNavigator]="true"
                            [defaultDate]="valueAsDate"
                    >
                    </p-calendar>

                    <!--<input *ngIf="formEntry.required == true" class="notvisibleInput" formControlName={{formEntry.key}} value={{formgroup.controls[formEntry.key].value}} required>-->
                    <input *ngIf="formEntry.required == undefined || formEntry.required == false" class="notvisibleInput" formControlName={{formEntry.key}} value={{formgroup.controls[formEntry.key].value}}>
                    <div class="invalidInfo" *ngIf="!formgroup.controls[formEntry.key].valid">
                        {{entryErrorString()}}
                    </div>
                </div>


            </div>
        </div>

        <div  *ngSwitchCase="'select'">
            <div class="form-group" [ngClass]="{    'formFrame_invalid' : formgroup.controls[formEntry.key].invalid ,
                                                    'formFrame_valid' : formgroup.controls[formEntry.key].valid,
                                                    'formFrame_optional' : !formgroup.controls[formEntry.key].invalid &&  formEntry.required == false}">

                <label class="lbl-form_main" [attr.for]="formEntry.key" >{{formEntry.title}}</label>
                <br />
                <label class="secParagraph" *ngFor="let text of formEntry.secParagraphArray" > {{text}}
                </label>
                <select
                        class="form-control"
                        [id]="formEntry.key"
                        formControlName={{formEntry.key}}
                        >
                    <option selected="selected" disabled="disabled" value="">Please Select</option>
                    <option *ngFor="let option of formEntry.options" [value]="option.name">{{option.name}}</option>
                </select>
                <div class="invalidInfo" *ngIf="!formgroup.controls[formEntry.key].valid">
                    {{entryErrorString()}}
                </div>

            </div>
        </div>

        <div    *ngSwitchCase="'number'">
            <div class="form-group" [ngClass]="{
                                                    'formFrame_invalid' : formgroup.controls[formEntry.key].invalid ,
                                                    'formFrame_valid' : formgroup.controls[formEntry.key].valid,
                                                    'formFrame_optional' : !formgroup.controls[formEntry.key].invalid &&  formEntry.required == false}">
                <label class="lbl-form_main" [attr.for]="formEntry.key" >{{formEntry.title}}</label>
                <br />
                <label class="secParagraph" *ngFor="let text of formEntry.secParagraphArray" > {{text}}
                </label>

                <input
                       type={{formEntry.type}}
                       class="form-control"
                       [id]="formEntry.key"
                       formControlName={{formEntry.key}}
                       />
                <div class="invalidInfo" *ngIf="!formgroup.controls[formEntry.key].valid">
                    {{entryErrorString()}}
                </div>


            </div>
        </div>

        <div    *ngSwitchCase="'email'">
            <div class="form-group" [ngClass]="{ 'formFrame_invalid' : formgroup.controls[formEntry.key].invalid ,
                                                    'formFrame_valid' : formgroup.controls[formEntry.key].valid,
                                                    'formFrame_optional' : !formgroup.controls[formEntry.key].invalid &&  formEntry.required == false
                                                 }">
                <label class="lbl-form_main" [attr.for]="formEntry.key" >{{formEntry.title}}</label>


                <input
                        type={{formEntry.type}}
                       class="form-control"
                       [id]="formEntry.key"
                       formControlName={{formEntry.key}}
                />

                <div class="invalidInfo" *ngIf="!formgroup.controls[formEntry.key].valid">
                    {{entryErrorString()}}
                </div>

            </div>
        </div>

        <div *ngSwitchCase="'grid-box-add'">
                <rt-grid-box-add
                        [formgroup]=formgroup
                        [formEntry]= formEntry>
                </rt-grid-box-add>
        </div>

        <div *ngSwitchCase="'fileUpload'">
            <div class="form-group" [ngClass]="{ 'formFrame_invalid' : formgroup.controls[formEntry.key].invalid ,
                                                    'formFrame_valid' : formgroup.controls[formEntry.key].valid,
                                                    'formFrame_optional' : !formgroup.controls[formEntry.key].invalid &&  formEntry.required == false
                                                    }">

                               <rt-file-uploader
                                                [formgroup]=formgroup
                                                [formEntry] = formEntry>
                              </rt-file-uploader>
                <div class="invalidInfo" *ngIf="!formgroup.controls[formEntry.key].valid">
                    {{entryErrorString()}}
                </div>

            </div>
        </div>

        <div *ngSwitchCase="'checkBox'">
            <div class="form-group" [ngClass]="{ 'formFrame_invalid' : !formgroup.controls[formEntry.key].valid && formEntry.required == true,
                                                 'formFrame_valid' : !formgroup.controls[formEntry.key].invalid &&  formgroup.controls[formEntry.key].value != 0 && formEntry.required == true,
                                                 'formFrame_optional' : formEntry.required == false}">

                <div [style.color]="'#4b797c'">
                    <md-checkbox formControlName={{formEntry.key}} align="start">
                        <label class="lbl-form_main" [attr.for]="formEntry.key"> {{formEntry.title}} </label>
                    </md-checkbox>
                    <div class="invalidInfo" *ngIf="!formgroup.controls[formEntry.key].valid">
                        {{entryErrorString()}}
                    </div>
                        <!--

                        <md-icon *ngIf="formEntry.infoText != invalid"
                                 class="infoIcon"
                                 [ngClass]="{'isInfoActive' : showTooltip}"
                                 (click)="toggleInfo($event)"
                                 (mouseover)="showTooltip=true"
                                 (mouseleave)="showTooltip=false" >
                            info_outline
                        </md-icon>

                        -->
                        <i *ngIf="formEntry.infoText != invalid"
                           class="mdi mdi-information-outline mdi-24px"
                       [ngClass]="{'isInfoActive' : showTooltip}"
                       (click)="toggleInfo($event)"
                       (mouseover)="showTooltip=true"
                       (mouseleave)="showTooltip=false"
                           [style.color]="'inherit'"></i>

                        <div *ngIf="showTooltip" class="container-fluid">
                            <div class="row">
                                <label class="infoText"> {{formEntry.infoText}} </label>
                            </div>
                        </div>
                </div>
            </div>
        </div>

    </div>

</div>